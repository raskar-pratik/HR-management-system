[{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\__mocks__\\fileMock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\__tests__\\Sanity.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\AuditLogViewer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\BulkImport.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1494,1497],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1494,1497],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2054,2057],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2054,2057],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { Upload, Check, X, Loader, FileSpreadsheet } from 'lucide-react';\r\nimport api from '../services/api';\r\nimport { showSuccess, showError } from '../utils/apiClient';\r\n\r\ninterface ImportRow {\r\n    rowNumber: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    department: string;\r\n    designation: string;\r\n    isValid: boolean;\r\n    errors: string[];\r\n}\r\n\r\nconst BulkImport: React.FC = () => {\r\n    const [step, setStep] = useState<1 | 2>(1);\r\n    const [previewData, setPreviewData] = useState<ImportRow[]>([]);\r\n    const [stats, setStats] = useState({ total: 0, valid: 0, invalid: 0 });\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n    const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (!e.target.files?.[0]) return;\r\n\r\n        const file = e.target.files[0];\r\n        setIsProcessing(true);\r\n        try {\r\n            const result = await api.previewImport(file);\r\n\r\n            if (result.success && result.data) {\r\n                setPreviewData(result.data.rows);\r\n                setStats({\r\n                    total: result.data.totalRows,\r\n                    valid: result.data.validRows,\r\n                    invalid: result.data.invalidRows\r\n                });\r\n                setStep(2);\r\n            } else {\r\n                showError('Invalid server response');\r\n            }\r\n        } catch (error) {\r\n            const err = error as any;\r\n            showError('Failed to parse file: ' + (err.response?.data?.message || err.message));\r\n        } finally {\r\n            setIsProcessing(false);\r\n        }\r\n    };\r\n\r\n    const handleImport = async () => {\r\n        setIsProcessing(true);\r\n        try {\r\n            const validRows = previewData.filter(r => r.isValid);\r\n            const result = await api.processImport(validRows);\r\n            showSuccess(result.message);\r\n            setStep(1);\r\n            setPreviewData([]);\r\n        } catch (error) {\r\n            const err = error as any;\r\n            showError('Import failed: ' + (err.response?.data?.message || err.message));\r\n        } finally {\r\n            setIsProcessing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-lg shadow-sm w-full max-w-4xl mx-auto\">\r\n            <h2 className=\"text-xl font-bold mb-6 flex items-center\">\r\n                <FileSpreadsheet className=\"mr-2 text-green-600\" />\r\n                Bulk Employee Import\r\n            </h2>\r\n\r\n            {step === 1 && (\r\n                <div className=\"text-center p-10 border-2 border-dashed border-gray-300 rounded-lg\">\r\n                    <p className=\"mb-4 text-gray-600\">Upload Excel file (.xlsx) containing employee records.</p>\r\n                    <p className=\"text-sm text-gray-500 mb-6\">Required columns: FirstName, LastName, Email, Phone, Department, Designation</p>\r\n\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\".xlsx, .xls\"\r\n                        onChange={handleFileSelect}\r\n                        className=\"hidden\"\r\n                        id=\"import-file\"\r\n                        disabled={isProcessing}\r\n                    />\r\n                    <label\r\n                        htmlFor=\"import-file\"\r\n                        className={`inline-flex items-center px-6 py-3 bg-indigo-600 text-white rounded-md cursor-pointer hover:bg-indigo-700 transition-colors ${isProcessing ? 'opacity-50' : ''}`}\r\n                    >\r\n                        {isProcessing ? <Loader className=\"animate-spin mr-2\" /> : <Upload className=\"mr-2\" />}\r\n                        {isProcessing ? 'Processing...' : 'Select File'}\r\n                    </label>\r\n                </div>\r\n            )}\r\n\r\n            {step === 2 && (\r\n                <div>\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                        <div className=\"flex space-x-4 text-sm\">\r\n                            <span className=\"text-gray-600\">Total: <strong>{stats.total}</strong></span>\r\n                            <span className=\"text-green-600\">Valid: <strong>{stats.valid}</strong></span>\r\n                            <span className=\"text-red-600\">Invalid: <strong>{stats.invalid}</strong></span>\r\n                        </div>\r\n                        <div className=\"space-x-2\">\r\n                            <button\r\n                                onClick={() => setStep(1)}\r\n                                className=\"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                onClick={handleImport}\r\n                                disabled={stats.valid === 0 || isProcessing}\r\n                                className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                {isProcessing ? 'Importing...' : 'Import Valid Rows'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-x-auto border rounded-lg max-h-96\">\r\n                        <table className=\"min-w-full divide-y divide-gray-200\">\r\n                            <thead className=\"bg-gray-50 sticky top-0\">\r\n                                <tr>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Name</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Email</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Department</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Issues</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                {previewData.map((row, idx) => (\r\n                                    <tr key={idx} className={row.isValid ? '' : 'bg-red-50'}>\r\n                                        <td className=\"px-4 py-2 whitespace-nowrap\">\r\n                                            {row.isValid ? (\r\n                                                <Check className=\"text-green-500\" />\r\n                                            ) : (\r\n                                                <X className=\"text-red-500\" />\r\n                                            )}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-2 whitespace-nowrap\">{row.firstName} {row.lastName}</td>\r\n                                        <td className=\"px-4 py-2 whitespace-nowrap\">{row.email}</td>\r\n                                        <td className=\"px-4 py-2 whitespace-nowrap\">{row.department}</td>\r\n                                        <td className=\"px-4 py-2 text-sm text-red-600\">\r\n                                            {row.errors.join(', ')}\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BulkImport;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\DashboardCharts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\DownloadButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\FileUpload.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[227,230],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[227,230],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":49,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1648,1651],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1648,1651],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useRef, useState } from 'react';\r\nimport { UploadCloud, Loader } from 'lucide-react';\r\nimport api from '../services/api';\r\n\r\ninterface FileUploadData {\r\n    url: string;\r\n    fileId: string;\r\n    [key: string]: any;\r\n}\r\n\r\ninterface FileUploadProps {\r\n    onUploadSuccess: (fileUrl: string, fileData: FileUploadData) => void;\r\n    onError?: (error: string) => void;\r\n    maxSizeInMB?: number;\r\n    acceptedFileTypes?: string; // e.g. \"image/*, .pdf\"\r\n    label?: string;\r\n}\r\n\r\nconst FileUpload: React.FC<FileUploadProps> = ({\r\n    onUploadSuccess,\r\n    onError,\r\n    maxSizeInMB = 5,\r\n    acceptedFileTypes = \"image/*,application/pdf\",\r\n    label = \"Upload File\"\r\n}) => {\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const [dragActive, setDragActive] = useState(false);\r\n\r\n    const handleFile = async (file: File) => {\r\n        // Validation: Size\r\n        if (file.size > maxSizeInMB * 1024 * 1024) {\r\n            const errorMsg = `File size exceeds ${maxSizeInMB}MB limit.`;\r\n            if (onError) onError(errorMsg);\r\n            else alert(errorMsg); // Fallback\r\n            return;\r\n        }\r\n\r\n        // Upload\r\n        setIsUploading(true);\r\n        try {\r\n            const response = await api.uploadFile(file);\r\n            if (response.success && response.data) {\r\n                onUploadSuccess(response.data.url, response.data);\r\n            } else {\r\n                throw new Error((response as unknown as { message?: string }).message || 'Upload failed');\r\n            }\r\n        } catch (error) {\r\n            const err = error as any;\r\n            const errorMsg = err.response?.data?.message || err.message || 'Error uploading file';\r\n            if (onError) onError(errorMsg);\r\n            else console.error(errorMsg);\r\n        } finally {\r\n            setIsUploading(false);\r\n            if (fileInputRef.current) fileInputRef.current.value = '';\r\n        }\r\n    };\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            handleFile(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const handleDrag = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n            setDragActive(true);\r\n        } else if (e.type === \"dragleave\") {\r\n            setDragActive(false);\r\n        }\r\n    };\r\n\r\n    const handleDrop = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        setDragActive(false);\r\n        if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n            handleFile(e.dataTransfer.files[0]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">{label}</label>\r\n            <div\r\n                className={`relative border-2 border-dashed rounded-lg p-6 flex flex-col items-center justify-center text-center cursor-pointer transition-colors\r\n                    ${dragActive ? 'border-primary-500 bg-primary-50' : 'border-gray-300 hover:border-primary-400 bg-gray-50'}`}\r\n                onDragEnter={handleDrag}\r\n                onDragLeave={handleDrag}\r\n                onDragOver={handleDrag}\r\n                onDrop={handleDrop}\r\n                onClick={() => !isUploading && fileInputRef.current?.click()}\r\n            >\r\n                <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    className=\"hidden\"\r\n                    accept={acceptedFileTypes}\r\n                    onChange={handleChange}\r\n                    disabled={isUploading}\r\n                />\r\n\r\n                {isUploading ? (\r\n                    <div className=\"flex flex-col items-center text-primary-600\">\r\n                        <Loader className=\"animate-spin text-3xl mb-2\" size={32} />\r\n                        <span className=\"text-sm\">Uploading...</span>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        <UploadCloud className=\"text-4xl text-gray-400 mb-2\" size={40} />\r\n                        <p className=\"text-sm text-gray-600\">\r\n                            <span className=\"font-semibold text-primary-600\">Click to upload</span> or drag and drop\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500 mt-1\">\r\n                            {acceptedFileTypes.replace(/,/g, ', ')} (Max {maxSizeInMB}MB)\r\n                        </p>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FileUpload;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\Loader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\RoleGate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\RouteGuards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\components\\Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\layouts\\DashboardLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\attendance\\AttendancePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\auth\\LoginPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\auth\\RegisterPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2537,2540],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2537,2540],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport toast from 'react-hot-toast';\r\nimport { Eye, EyeOff, UserPlus, Loader2 } from 'lucide-react';\r\nimport api from '../../services/api';\r\nimport { useAuthStore } from '../../store/authStore';\r\n\r\nconst registerSchema = z.object({\r\n    companyName: z.string().min(2, 'Company name must be at least 2 characters'),\r\n    companyEmail: z.string().email('Please enter a valid company email'),\r\n    firstName: z.string().min(2, 'First name must be at least 2 characters'),\r\n    lastName: z.string().min(2, 'Last name must be at least 2 characters'),\r\n    email: z.string().email('Please enter a valid email'),\r\n    password: z\r\n        .string()\r\n        .min(8, 'Password must be at least 8 characters')\r\n        .regex(\r\n            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/,\r\n            'Password must contain uppercase, lowercase, and number'\r\n        ),\r\n    confirmPassword: z.string(),\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n    message: \"Passwords don't match\",\r\n    path: ['confirmPassword'],\r\n});\r\n\r\ntype RegisterFormData = z.infer<typeof registerSchema>;\r\n\r\nexport default function RegisterPage() {\r\n    const navigate = useNavigate();\r\n    const setAuth = useAuthStore((state) => state.setAuth);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n    } = useForm<RegisterFormData>({\r\n        resolver: zodResolver(registerSchema),\r\n    });\r\n\r\n    const onSubmit = async (data: RegisterFormData) => {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await api.register({\r\n                company: {\r\n                    name: data.companyName,\r\n                    email: data.companyEmail,\r\n                },\r\n                admin: {\r\n                    firstName: data.firstName,\r\n                    lastName: data.lastName,\r\n                    email: data.email,\r\n                    password: data.password,\r\n                },\r\n            });\r\n            setAuth(response.data.user, response.data.accessToken, response.data.refreshToken);\r\n            toast.success('Registration successful! Welcome!');\r\n            navigate('/dashboard');\r\n        } catch (error) {\r\n            const err = error as any;\r\n            toast.error(err.message || 'Registration failed');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"register-page\">\r\n            <div className=\"register-container\">\r\n                <div className=\"register-header\">\r\n                    <div className=\"logo\">≡ƒæÑ</div>\r\n                    <h1>Create Account</h1>\r\n                    <p>Set up your company's HR system</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"register-form\">\r\n                    <div className=\"form-section\">\r\n                        <h3>Company Information</h3>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"companyName\">Company Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"companyName\"\r\n                                placeholder=\"Acme Corporation\"\r\n                                {...register('companyName')}\r\n                                className={errors.companyName ? 'error' : ''}\r\n                            />\r\n                            {errors.companyName && <span className=\"error-text\">{errors.companyName.message}</span>}\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"companyEmail\">Company Email</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"companyEmail\"\r\n                                placeholder=\"hr@company.com\"\r\n                                {...register('companyEmail')}\r\n                                className={errors.companyEmail ? 'error' : ''}\r\n                            />\r\n                            {errors.companyEmail && <span className=\"error-text\">{errors.companyEmail.message}</span>}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-section\">\r\n                        <h3>Admin Account</h3>\r\n\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"firstName\">First Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"firstName\"\r\n                                    placeholder=\"John\"\r\n                                    {...register('firstName')}\r\n                                    className={errors.firstName ? 'error' : ''}\r\n                                />\r\n                                {errors.firstName && <span className=\"error-text\">{errors.firstName.message}</span>}\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"lastName\">Last Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"lastName\"\r\n                                    placeholder=\"Doe\"\r\n                                    {...register('lastName')}\r\n                                    className={errors.lastName ? 'error' : ''}\r\n                                />\r\n                                {errors.lastName && <span className=\"error-text\">{errors.lastName.message}</span>}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email\">Admin Email</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                placeholder=\"admin@company.com\"\r\n                                {...register('email')}\r\n                                className={errors.email ? 'error' : ''}\r\n                            />\r\n                            {errors.email && <span className=\"error-text\">{errors.email.message}</span>}\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <div className=\"password-input\">\r\n                                <input\r\n                                    type={showPassword ? 'text' : 'password'}\r\n                                    id=\"password\"\r\n                                    placeholder=\"Min 8 characters\"\r\n                                    {...register('password')}\r\n                                    className={errors.password ? 'error' : ''}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"toggle-password\"\r\n                                    onClick={() => setShowPassword(!showPassword)}\r\n                                >\r\n                                    {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n                                </button>\r\n                            </div>\r\n                            {errors.password && <span className=\"error-text\">{errors.password.message}</span>}\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"confirmPassword\"\r\n                                placeholder=\"Repeat password\"\r\n                                {...register('confirmPassword')}\r\n                                className={errors.confirmPassword ? 'error' : ''}\r\n                            />\r\n                            {errors.confirmPassword && <span className=\"error-text\">{errors.confirmPassword.message}</span>}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" className=\"submit-btn\" disabled={isLoading}>\r\n                        {isLoading ? (\r\n                            <>\r\n                                <Loader2 className=\"spinner\" size={20} />\r\n                                Creating Account...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <UserPlus size={20} />\r\n                                Create Account\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"register-footer\">\r\n                    <p>\r\n                        Already have an account? <Link to=\"/login\">Sign in</Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\dashboard\\DashboardPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1857,1860],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1857,1860],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2275,2278],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2275,2278],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from 'react';\r\nimport {\r\n    Users, Clock, Calendar, TrendingUp,\r\n    UserCheck, UserX, Briefcase, AlertCircle\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\nimport api, { type AttendanceRecord } from '../../services/api';\r\nimport { useAuthStore } from '../../store/authStore';\r\nimport { DashboardSkeleton } from '../../components/Skeleton';\r\n\r\ninterface DashboardStats {\r\n    totalEmployees: number;\r\n    activeEmployees: number;\r\n    totalDepartments: number;\r\n    pendingLeaves: number;\r\n    presentToday: number;\r\n    attendancePercentage: number;\r\n}\r\n\r\nexport default function DashboardPage() {\r\n    const user = useAuthStore((state) => state.user);\r\n    const [stats, setStats] = useState<DashboardStats | null>(null);\r\n    const [todayAttendance, setTodayAttendance] = useState<AttendanceRecord | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [clockingIn, setClockingIn] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadDashboardData();\r\n    }, []);\r\n\r\n    const loadDashboardData = async () => {\r\n        try {\r\n            const [statsRes, attendanceRes] = await Promise.all([\r\n                api.getCompanyStats(),\r\n                api.getTodayAttendance(),\r\n            ]);\r\n            setStats(statsRes.data as unknown as DashboardStats);\r\n            setTodayAttendance(attendanceRes.data);\r\n        } catch (error) {\r\n            toast.error('Failed to load dashboard data');\r\n            console.error(error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleClockIn = async () => {\r\n        setClockingIn(true);\r\n        try {\r\n            const response = await api.clockIn();\r\n            setTodayAttendance(response.data);\r\n            toast.success('Clocked in successfully!');\r\n        } catch (error: any) {\r\n            toast.error(error.message || 'Failed to clock in');\r\n        } finally {\r\n            setClockingIn(false);\r\n        }\r\n    };\r\n\r\n    const handleClockOut = async () => {\r\n        setClockingIn(true);\r\n        try {\r\n            const response = await api.clockOut();\r\n            setTodayAttendance(response.data);\r\n            toast.success('Clocked out successfully!');\r\n        } catch (error: any) {\r\n            toast.error(error.message || 'Failed to clock out');\r\n        } finally {\r\n            setClockingIn(false);\r\n        }\r\n    };\r\n\r\n    const currentTime = new Date().toLocaleTimeString('en-US', {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        hour12: true,\r\n    });\r\n\r\n    const currentDate = new Date().toLocaleDateString('en-US', {\r\n        weekday: 'long',\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n    });\r\n\r\n    if (isLoading) {\r\n        return <DashboardSkeleton />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"dashboard-page\">\r\n            {/* Welcome Section */}\r\n            <div className=\"welcome-section\">\r\n                <div className=\"welcome-text\">\r\n                    <h1>Welcome back, {user?.firstName}! ≡ƒæï</h1>\r\n                    <p>{currentDate}</p>\r\n                </div>\r\n                <div className=\"current-time\">\r\n                    <Clock size={24} />\r\n                    <span>{currentTime}</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Clock In/Out Card */}\r\n            <div className=\"attendance-card\">\r\n                <div className=\"attendance-status\">\r\n                    {todayAttendance?.clockIn ? (\r\n                        <>\r\n                            <div className=\"status-badge clocked-in\">\r\n                                <UserCheck size={20} />\r\n                                Clocked In\r\n                            </div>\r\n                            <p className=\"clock-time\">Clock In: {todayAttendance.clockIn}</p>\r\n                            {todayAttendance.clockOut && (\r\n                                <p className=\"clock-time\">Clock Out: {todayAttendance.clockOut}</p>\r\n                            )}\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"status-badge not-clocked\">\r\n                            <UserX size={20} />\r\n                            Not Clocked In\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"attendance-actions\">\r\n                    {!todayAttendance?.clockIn ? (\r\n                        <button\r\n                            className=\"btn-clock-in\"\r\n                            onClick={handleClockIn}\r\n                            disabled={clockingIn}\r\n                        >\r\n                            {clockingIn ? 'Clocking In...' : 'Clock In'}\r\n                        </button>\r\n                    ) : !todayAttendance?.clockOut ? (\r\n                        <button\r\n                            className=\"btn-clock-out\"\r\n                            onClick={handleClockOut}\r\n                            disabled={clockingIn}\r\n                        >\r\n                            {clockingIn ? 'Clocking Out...' : 'Clock Out'}\r\n                        </button>\r\n                    ) : (\r\n                        <span className=\"completed-text\">Γ£ô Work day completed</span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"stats-grid\">\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon blue\">\r\n                        <Users size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>{stats?.totalEmployees || 0}</h3>\r\n                        <p>Total Employees</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon green\">\r\n                        <UserCheck size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>{stats?.activeEmployees || 0}</h3>\r\n                        <p>Active Employees</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon purple\">\r\n                        <Briefcase size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>{stats?.totalDepartments || 0}</h3>\r\n                        <p>Departments</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon orange\">\r\n                        <Calendar size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>{stats?.pendingLeaves || 0}</h3>\r\n                        <p>Pending Leaves</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon teal\">\r\n                        <TrendingUp size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>{stats?.presentToday || 0}</h3>\r\n                        <p>Present Today</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon pink\">\r\n                        <AlertCircle size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <h3>{stats?.attendancePercentage || 0}%</h3>\r\n                        <p>Attendance Rate</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Quick Actions */}\r\n            <div className=\"quick-actions\">\r\n                <h2>Quick Actions</h2>\r\n                <div className=\"action-buttons\">\r\n                    <a href=\"/employees\" className=\"action-btn\">\r\n                        <Users size={20} />\r\n                        View Employees\r\n                    </a>\r\n                    <a href=\"/leaves\" className=\"action-btn\">\r\n                        <Calendar size={20} />\r\n                        Manage Leaves\r\n                    </a>\r\n                    <a href=\"/attendance\" className=\"action-btn\">\r\n                        <Clock size={20} />\r\n                        Attendance Report\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\employees\\EmployeesPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1595,1598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1595,1598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":202,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":202,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8368,8371],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8368,8371],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useCallback } from 'react';\r\nimport {\r\n    Users, Plus, Search, Edit, Trash2,\r\n    ChevronLeft, ChevronRight, Eye\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\nimport api from '../../services/api';\r\nimport type { Employee } from '../../services/api';\r\n\r\nexport default function EmployeesPage() {\r\n    const [employees, setEmployees] = useState<Employee[]>([]);\r\n    const [total, setTotal] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n    const [search, setSearch] = useState('');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [showAddModal, setShowAddModal] = useState(false);\r\n    const limit = 10;\r\n\r\n    const loadEmployees = useCallback(async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await api.getEmployees({ page, limit, search });\r\n            setEmployees(response.data.employees || []);\r\n            setTotal(response.data.total || 0);\r\n        } catch (error) {\r\n            toast.error('Failed to load employees');\r\n            console.error(error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [page, limit, search]);\r\n\r\n    useEffect(() => {\r\n        loadEmployees();\r\n    }, [loadEmployees]);\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('Are you sure you want to deactivate this employee?')) return;\r\n        try {\r\n            await api.deleteEmployee(id);\r\n            toast.success('Employee deactivated');\r\n            loadEmployees();\r\n        } catch (error) {\r\n            const err = error as any;\r\n            toast.error(err.message || 'Failed to delete');\r\n        }\r\n    };\r\n\r\n    const totalPages = Math.ceil(total / limit);\r\n\r\n    return (\r\n        <div className=\"employees-page\">\r\n            <div className=\"page-header\">\r\n                <div className=\"header-left\">\r\n                    <Users size={32} className=\"page-icon\" />\r\n                    <div>\r\n                        <h1>Employees</h1>\r\n                        <p>{total} total employees</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn-primary\" onClick={() => setShowAddModal(true)}>\r\n                    <Plus size={20} />\r\n                    Add Employee\r\n                </button>\r\n            </div>\r\n\r\n            {/* Search Bar */}\r\n            <div className=\"search-bar\">\r\n                <Search size={20} className=\"search-icon\" />\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search employees...\"\r\n                    value={search}\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                />\r\n            </div>\r\n\r\n            {/* Employees Table */}\r\n            <div className=\"table-container\">\r\n                {isLoading ? (\r\n                    <div className=\"table-loading\">\r\n                        <div className=\"loader\"></div>\r\n                        <p>Loading employees...</p>\r\n                    </div>\r\n                ) : employees.length === 0 ? (\r\n                    <div className=\"empty-state\">\r\n                        <Users size={48} />\r\n                        <h3>No employees found</h3>\r\n                        <p>Get started by adding your first employee</p>\r\n                    </div>\r\n                ) : (\r\n                    <table className=\"data-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Employee</th>\r\n                                <th>Employee Code</th>\r\n                                <th>Department</th>\r\n                                <th>Designation</th>\r\n                                <th>Status</th>\r\n                                <th>Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {employees.map((emp) => (\r\n                                <tr key={emp.id}>\r\n                                    <td>\r\n                                        <div className=\"employee-info\">\r\n                                            <div className=\"avatar\">\r\n                                                {emp.user?.firstName?.[0]}{emp.user?.lastName?.[0]}\r\n                                            </div>\r\n                                            <div>\r\n                                                <strong>{emp.user?.firstName} {emp.user?.lastName}</strong>\r\n                                                <span>{emp.user?.email}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>{emp.employeeCode}</td>\r\n                                    <td>{emp.department?.name || '-'}</td>\r\n                                    <td>{emp.designation?.name || '-'}</td>\r\n                                    <td>\r\n                                        <span className={`status-badge ${emp.employmentStatus}`}>\r\n                                            {emp.employmentStatus}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <div className=\"action-buttons\">\r\n                                            <button className=\"btn-icon\" title=\"View\">\r\n                                                <Eye size={18} />\r\n                                            </button>\r\n                                            <button className=\"btn-icon\" title=\"Edit\">\r\n                                                <Edit size={18} />\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"btn-icon danger\"\r\n                                                title=\"Delete\"\r\n                                                onClick={() => handleDelete(emp.id)}\r\n                                            >\r\n                                                <Trash2 size={18} />\r\n                                            </button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            {totalPages > 1 && (\r\n                <div className=\"pagination\">\r\n                    <button\r\n                        className=\"btn-page\"\r\n                        onClick={() => setPage(p => p - 1)}\r\n                        disabled={page === 1}\r\n                    >\r\n                        <ChevronLeft size={20} />\r\n                    </button>\r\n                    <span>Page {page} of {totalPages}</span>\r\n                    <button\r\n                        className=\"btn-page\"\r\n                        onClick={() => setPage(p => p + 1)}\r\n                        disabled={page === totalPages}\r\n                    >\r\n                        <ChevronRight size={20} />\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Add Employee Modal */}\r\n            {showAddModal && (\r\n                <AddEmployeeModal\r\n                    onClose={() => setShowAddModal(false)}\r\n                    onSuccess={() => {\r\n                        setShowAddModal(false);\r\n                        loadEmployees();\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AddEmployeeModal({ onClose, onSuccess }: { onClose: () => void; onSuccess: () => void }) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        phone: '',\r\n        joinDate: new Date().toISOString().split('T')[0],\r\n    });\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        try {\r\n            await api.createEmployee(formData);\r\n            toast.success('Employee added successfully!');\r\n            onSuccess();\r\n        } catch (error) {\r\n            const err = error as any;\r\n            toast.error(err.message || 'Failed to add employee');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-overlay\" onClick={onClose}>\r\n            <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <h2>Add New Employee</h2>\r\n                    <button className=\"btn-close\" onClick={onClose}>&times;</button>\r\n                </div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-row\">\r\n                        <div className=\"form-group\">\r\n                            <label>First Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={formData.firstName}\r\n                                onChange={e => setFormData({ ...formData, firstName: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Last Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={formData.lastName}\r\n                                onChange={e => setFormData({ ...formData, lastName: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={formData.email}\r\n                            onChange={e => setFormData({ ...formData, email: e.target.value })}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Join Date</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={formData.joinDate}\r\n                            onChange={e => setFormData({ ...formData, joinDate: e.target.value })}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"modal-actions\">\r\n                        <button type=\"button\" className=\"btn-secondary\" onClick={onClose}>\r\n                            Cancel\r\n                        </button>\r\n                        <button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\r\n                            {isLoading ? 'Adding...' : 'Add Employee'}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\leaves\\LeavesPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2192,2195],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2192,2195],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2614,2617],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2614,2617],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":210,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":210,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useCallback } from 'react';\r\nimport { Calendar, Plus, Check, X, Clock } from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\nimport api from '../../services/api';\r\nimport type { LeaveRequest } from '../../services/api';\r\nimport { useAuthStore } from '../../store/authStore';\r\n\r\nconst LEAVE_TYPES = [\r\n    { value: 'sick', label: 'Sick Leave', color: '#ef4444' },\r\n    { value: 'casual', label: 'Casual Leave', color: '#3b82f6' },\r\n    { value: 'earned', label: 'Earned Leave', color: '#10b981' },\r\n    { value: 'maternity', label: 'Maternity Leave', color: '#ec4899' },\r\n    { value: 'paternity', label: 'Paternity Leave', color: '#8b5cf6' },\r\n    { value: 'unpaid', label: 'Unpaid Leave', color: '#6b7280' },\r\n];\r\n\r\nexport default function LeavesPage() {\r\n    const user = useAuthStore((state) => state.user);\r\n    const [leaves, setLeaves] = useState<LeaveRequest[]>([]);\r\n    const [leaveBalance, setLeaveBalance] = useState<Record<string, { used: number; total: number }> | null>(null);\r\n    const [filter, setFilter] = useState('all');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [showApplyModal, setShowApplyModal] = useState(false);\r\n\r\n    const isManager = user?.role === 'company_admin' || user?.role === 'hr_manager';\r\n\r\n    const loadData = useCallback(async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const [leavesRes, balanceRes] = await Promise.all([\r\n                api.getLeaves(filter !== 'all' ? { status: filter } : undefined),\r\n                api.getLeaveBalance(),\r\n            ]);\r\n            setLeaves(leavesRes.data.leaves || []);\r\n            setLeaveBalance(balanceRes.data);\r\n        } catch (error) {\r\n            toast.error('Failed to load leaves');\r\n            console.error(error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [filter]);\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n    }, [loadData]);\r\n\r\n    const handleApprove = async (id: string) => {\r\n        try {\r\n            await api.approveLeave(id);\r\n            toast.success('Leave approved');\r\n            loadData();\r\n        } catch (error) {\r\n            const err = error as any;\r\n            toast.error(err.message || 'Failed to approve');\r\n        }\r\n    };\r\n\r\n    const handleReject = async (id: string) => {\r\n        const reason = prompt('Enter rejection reason:');\r\n        if (!reason) return;\r\n        try {\r\n            await api.rejectLeave(id, reason);\r\n            toast.success('Leave rejected');\r\n            loadData();\r\n        } catch (error) {\r\n            const err = error as any;\r\n            toast.error(err.message || 'Failed to reject');\r\n        }\r\n    };\r\n\r\n    const getLeaveTypeInfo = (type: string) => {\r\n        return LEAVE_TYPES.find(t => t.value === type) || { label: type, color: '#6b7280' };\r\n    };\r\n\r\n    const getStatusColor = (status: string) => {\r\n        switch (status) {\r\n            case 'approved': return '#10b981';\r\n            case 'rejected': return '#ef4444';\r\n            case 'pending': return '#f59e0b';\r\n            case 'cancelled': return '#6b7280';\r\n            default: return '#6b7280';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"leaves-page\">\r\n            <div className=\"page-header\">\r\n                <div className=\"header-left\">\r\n                    <Calendar size={32} className=\"page-icon\" />\r\n                    <div>\r\n                        <h1>Leave Management</h1>\r\n                        <p>Manage your time off</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn-primary\" onClick={() => setShowApplyModal(true)}>\r\n                    <Plus size={20} />\r\n                    Apply Leave\r\n                </button>\r\n            </div>\r\n\r\n            {leaveBalance && (\r\n                <div className=\"leave-balance-grid\">\r\n                    {Object.entries(leaveBalance).map(([type, balance]) => {\r\n                        const info = getLeaveTypeInfo(type);\r\n                        return (\r\n                            <div key={type} className=\"balance-card\" style={{ borderColor: info.color }}>\r\n                                <div className=\"balance-header\" style={{ background: info.color }}>\r\n                                    {info.label}\r\n                                </div>\r\n                                <div className=\"balance-value\">\r\n                                    <span className=\"used\">{balance.used || 0}</span>\r\n                                    <span className=\"separator\">/</span>\r\n                                    <span className=\"total\">{balance.total || 0}</span>\r\n                                </div>\r\n                                <div className=\"balance-label\">Used / Total</div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"filter-tabs\">\r\n                <button className={filter === 'all' ? 'active' : ''} onClick={() => setFilter('all')}>All</button>\r\n                <button className={filter === 'pending' ? 'active' : ''} onClick={() => setFilter('pending')}>Pending</button>\r\n                <button className={filter === 'approved' ? 'active' : ''} onClick={() => setFilter('approved')}>Approved</button>\r\n                <button className={filter === 'rejected' ? 'active' : ''} onClick={() => setFilter('rejected')}>Rejected</button>\r\n            </div>\r\n\r\n            <div className=\"leaves-list\">\r\n                {isLoading ? (\r\n                    <div className=\"loading-state\">\r\n                        <div className=\"loader\"></div>\r\n                        <p>Loading leaves...</p>\r\n                    </div>\r\n                ) : leaves.length === 0 ? (\r\n                    <div className=\"empty-state\">\r\n                        <Calendar size={48} />\r\n                        <h3>No leave requests</h3>\r\n                        <p>Apply for leave when you need time off</p>\r\n                    </div>\r\n                ) : (\r\n                    leaves.map((leave) => {\r\n                        const typeInfo = getLeaveTypeInfo(leave.leaveType);\r\n                        return (\r\n                            <div key={leave.id} className=\"leave-card\">\r\n                                <div className=\"leave-type\" style={{ background: typeInfo.color }}>\r\n                                    {typeInfo.label}\r\n                                </div>\r\n                                <div className=\"leave-details\">\r\n                                    <div className=\"leave-dates\">\r\n                                        <Clock size={16} />\r\n                                        <span>\r\n                                            {new Date(leave.startDate).toLocaleDateString()} - {new Date(leave.endDate).toLocaleDateString()}\r\n                                        </span>\r\n                                        <span className=\"days-badge\">{leave.totalDays} days</span>\r\n                                    </div>\r\n                                    <p className=\"leave-reason\">{leave.reason}</p>\r\n                                </div>\r\n                                <div className=\"leave-status\">\r\n                                    <span className=\"status-badge\" style={{ background: getStatusColor(leave.status) }}>\r\n                                        {leave.status}\r\n                                    </span>\r\n                                    {isManager && leave.status === 'pending' && (\r\n                                        <div className=\"leave-actions\">\r\n                                            <button className=\"btn-approve\" onClick={() => handleApprove(leave.id)}>\r\n                                                <Check size={16} />\r\n                                            </button>\r\n                                            <button className=\"btn-reject\" onClick={() => handleReject(leave.id)}>\r\n                                                <X size={16} />\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n\r\n            {showApplyModal && (\r\n                <ApplyLeaveModal\r\n                    onClose={() => setShowApplyModal(false)}\r\n                    onSuccess={() => {\r\n                        setShowApplyModal(false);\r\n                        loadData();\r\n                    }}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ApplyLeaveModal({ onClose, onSuccess }: { onClose: () => void; onSuccess: () => void }) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        leaveType: 'casual',\r\n        startDate: '',\r\n        endDate: '',\r\n        reason: '',\r\n    });\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        try {\r\n            await api.applyLeave(formData);\r\n            toast.success('Leave applied successfully!');\r\n            onSuccess();\r\n        } catch (error) {\r\n            toast.error('Failed to apply leave');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-overlay\" onClick={onClose}>\r\n            <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                <div className=\"modal-header\">\r\n                    <h2>Apply for Leave</h2>\r\n                    <button className=\"btn-close\" onClick={onClose}>&times;</button>\r\n                </div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Leave Type</label>\r\n                        <select\r\n                            value={formData.leaveType}\r\n                            onChange={e => setFormData({ ...formData, leaveType: e.target.value })}\r\n                        >\r\n                            {LEAVE_TYPES.map(type => (\r\n                                <option key={type.value} value={type.value}>{type.label}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-row\">\r\n                        <div className=\"form-group\">\r\n                            <label>Start Date</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                value={formData.startDate}\r\n                                onChange={e => setFormData({ ...formData, startDate: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>End Date</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                value={formData.endDate}\r\n                                onChange={e => setFormData({ ...formData, endDate: e.target.value })}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Reason</label>\r\n                        <textarea\r\n                            value={formData.reason}\r\n                            onChange={e => setFormData({ ...formData, reason: e.target.value })}\r\n                            placeholder=\"Please provide a reason for your leave...\"\r\n                            rows={3}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"modal-actions\">\r\n                        <button type=\"button\" className=\"btn-secondary\" onClick={onClose}>Cancel</button>\r\n                        <button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\r\n                            {isLoading ? 'Applying...' : 'Apply Leave'}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\payroll\\PayrollPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":65,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":65,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n    Coins,\r\n    FileText,\r\n    Users,\r\n    Play,\r\n    Plus,\r\n    Download,\r\n    CreditCard\r\n} from 'lucide-react';\r\nimport api from '../../services/api';\r\nimport type {\r\n    SalaryComponent,\r\n    PayrollRun,\r\n    Payslip\r\n} from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function PayrollPage() {\r\n    const [activeTab, setActiveTab] = useState<'components' | 'structures' | 'process' | 'payslips'>('payslips');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    // Data States\r\n    const [components, setComponents] = useState<SalaryComponent[]>([]);\r\n    const [runs, setRuns] = useState<PayrollRun[]>([]);\r\n    const [payslips, setPayslips] = useState<Payslip[]>([]);\r\n\r\n    // Process State\r\n    const [processMonth, setProcessMonth] = useState(new Date().getMonth() + 1);\r\n    const [processYear, setProcessYear] = useState(new Date().getFullYear());\r\n\r\n    const fetchData = useCallback(async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            if (activeTab === 'components') {\r\n                const res = await api.getSalaryComponents();\r\n                setComponents(res.data || []);\r\n            } else if (activeTab === 'process') {\r\n                const res = await api.getPayrollRuns();\r\n                setRuns(res.data || []);\r\n            } else if (activeTab === 'payslips') {\r\n                const res = await api.getPayslips();\r\n                setPayslips(res.data || []);\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [activeTab]);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [fetchData]);\r\n\r\n    const handleProcessPayroll = async () => {\r\n        if (!processMonth || !processYear) return;\r\n        if (!confirm(`Are you sure you want to process payroll for ${processMonth}/${processYear}?`)) return;\r\n\r\n        setIsLoading(true);\r\n        try {\r\n            await api.processPayroll({ month: processMonth, year: processYear });\r\n            toast.success('Payroll processing started in background');\r\n            fetchData();\r\n        } catch (error) {\r\n            toast.error('Failed to start payroll process');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderComponentsTab = () => (\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-lg font-semibold\">Salary Components</h3>\r\n                <button className=\"btn btn-primary flex items-center bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700\">\r\n                    <Plus size={16} className=\"mr-2\" />\r\n                    Add Component\r\n                </button>\r\n            </div>\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Name</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Code</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Type</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Calculation</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {components.map((c) => (\r\n                            <tr key={c.id}>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">{c.name}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\"><span className=\"font-mono text-xs bg-gray-100 px-2 py-1 rounded\">{c.code}</span></td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.type === 'earning' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\r\n                                        {c.type}\r\n                                    </span>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                    {c.calculationType} {c.percentageOf ? `of ${c.percentageOf}` : ''}\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                                        {c.isActive ? 'Active' : 'Inactive'}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        {components.length === 0 && (\r\n                            <tr><td colSpan={5} className=\"px-6 py-4 text-center text-gray-500\">No components defined</td></tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderProcessTab = () => (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Run Payroll</h3>\r\n                <div className=\"flex gap-4 items-end\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Month</label>\r\n                        <select\r\n                            value={processMonth}\r\n                            onChange={(e) => setProcessMonth(Number(e.target.value))}\r\n                            className=\"block w-32 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\r\n                        >\r\n                            {Array.from({ length: 12 }, (_, i) => i + 1).map(m => (\r\n                                <option key={m} value={m}>{new Date(0, m - 1).toLocaleString('default', { month: 'long' })}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Year</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={processYear}\r\n                            onChange={(e) => setProcessYear(Number(e.target.value))}\r\n                            className=\"block w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        onClick={handleProcessPayroll}\r\n                        disabled={isLoading}\r\n                        className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center\"\r\n                    >\r\n                        {isLoading ? 'Processing...' : <><Play size={16} className=\"mr-2\" /> Process Payroll</>}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">Recent Payroll Runs</h3>\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Period</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Employees</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Total Net Pay</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Processed On</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {runs.map((r) => (\r\n                            <tr key={r.id}>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap font-medium\">{new Date(0, r.month - 1).toLocaleString('default', { month: 'short' })} {r.year}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r.status === 'completed' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`}>\r\n                                        {r.status}\r\n                                    </span>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">{r.employeeCount}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap font-medium text-gray-900\">${Number(r.totalNet).toLocaleString()}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{new Date(r.processedAt).toLocaleDateString()}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderPayslipsTab = () => (\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Payslips</h3>\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Employee</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Period</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Gross</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Deductions</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Net Pay</th>\r\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\r\n                            <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {payslips.map((p) => (\r\n                            <tr key={p.id}>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div className=\"ml-0\">\r\n                                            <div className=\"text-sm font-medium text-gray-900\">{p.employee?.user.name}</div>\r\n                                            <div className=\"text-sm text-gray-500\">{p.employee?.employeeCode}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">{new Date(0, p.month - 1).toLocaleString('default', { month: 'short' })} {p.year}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">${Number(p.grossEarnings).toLocaleString()}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-red-500\">-${Number(p.totalDeductions).toLocaleString()}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900\">${Number(p.netPay).toLocaleString()}</td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\r\n                                        {p.status}\r\n                                    </span>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                                    <button className=\"text-indigo-600 hover:text-indigo-900\"><Download size={16} /></button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n            <div className=\"mb-8\">\r\n                <h1 className=\"text-2xl font-bold text-gray-900 flex items-center\">\r\n                    <Coins className=\"mr-3 text-yellow-500\" />\r\n                    Payroll Management\r\n                </h1>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                    Manage salary components, payroll processing, and employee payslips\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"border-b border-gray-200 mb-6\">\r\n                <nav className=\"-mb-px flex space-x-8\">\r\n                    {[\r\n                        { id: 'payslips', name: 'Payslips', icon: FileText },\r\n                        { id: 'process', name: 'Process Payroll', icon: Play },\r\n                        { id: 'structures', name: 'Salary Structures', icon: Users },\r\n                        { id: 'components', name: 'Salary Components', icon: CreditCard },\r\n                    ].map((tab) => (\r\n                        <button\r\n                            key={tab.id}\r\n                            onClick={() => setActiveTab(tab.id as typeof activeTab)}\r\n                            className={`${activeTab === tab.id\r\n                                ? 'border-indigo-500 text-indigo-600'\r\n                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                                } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`}\r\n                        >\r\n                            <tab.icon className=\"mr-2 h-4 w-4\" />\r\n                            {tab.name}\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n            </div>\r\n\r\n            {activeTab === 'components' && renderComponentsTab()}\r\n            {activeTab === 'process' && renderProcessTab()}\r\n            {activeTab === 'payslips' && renderPayslipsTab()}\r\n            {activeTab === 'structures' && <div className=\"bg-white p-6 rounded-lg shadow text-center text-gray-500\">Select an employee to view/edit salary structure (Coming Soon)</div>}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\reports\\ReportsPage.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":79,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":79,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":117,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":117,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":165,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":165,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n    FileText, Download, Filter, Calendar, Users,\r\n    Clock, PieChart, TrendingUp, Building, RefreshCw\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\nimport api from '../../services/api';\r\n\r\ntype ReportType = 'attendance' | 'leaves' | 'directory';\r\n\r\ninterface AttendanceReportData {\r\n    period: { from: string; to: string };\r\n    summary: {\r\n        totalDays: number;\r\n        presentDays: number;\r\n        absentDays: number;\r\n        lateDays: number;\r\n        averageWorkHours: number;\r\n    };\r\n    employeeSummary: Array<{\r\n        employeeId: string;\r\n        employeeName: string;\r\n        employeeCode: string;\r\n        department: string;\r\n        present: number;\r\n        absent: number;\r\n        late: number;\r\n        totalHours: number;\r\n    }>;\r\n}\r\n\r\ninterface LeaveReportData {\r\n    year: number;\r\n    totalRequests: number;\r\n    departmentSummary: Array<{\r\n        departmentId: string;\r\n        departmentName: string;\r\n        totalRequests: number;\r\n        approved: number;\r\n        rejected: number;\r\n        pending: number;\r\n        totalDays: number;\r\n    }>;\r\n}\r\n\r\ninterface EmployeeDirectoryData {\r\n    totalEmployees: number;\r\n    employees: Array<{\r\n        employeeCode: string;\r\n        firstName: string;\r\n        lastName: string;\r\n        email: string;\r\n        department: string;\r\n        joinDate: string;\r\n        employmentStatus: string;\r\n    }>;\r\n}\r\n\r\nexport default function ReportsPage() {\r\n    const [activeReport, setActiveReport] = useState<ReportType>('attendance');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isExporting, setIsExporting] = useState(false);\r\n\r\n    // Filters\r\n    const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\r\n    const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n    const [selectedDepartment, setSelectedDepartment] = useState('');\r\n    const [departments, setDepartments] = useState<{ id: string; name: string }[]>([]);\r\n\r\n    // Report data\r\n    const [attendanceData, setAttendanceData] = useState<AttendanceReportData | null>(null);\r\n    const [leaveData, setLeaveData] = useState<LeaveReportData | null>(null);\r\n    const [directoryData, setDirectoryData] = useState<EmployeeDirectoryData | null>(null);\r\n\r\n    const loadDepartments = useCallback(async () => {\r\n        try {\r\n            const response = await api.getDepartments();\r\n            setDepartments(response.data || []);\r\n        } catch (error) {\r\n            console.error('Failed to load departments');\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        loadDepartments();\r\n    }, [loadDepartments]);\r\n\r\n    const loadReport = useCallback(async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            switch (activeReport) {\r\n                case 'attendance': {\r\n                    const attRes = await api.getAdminAttendanceReport({\r\n                        month: selectedMonth,\r\n                        year: selectedYear,\r\n                        departmentId: selectedDepartment || undefined\r\n                    });\r\n                    setAttendanceData(attRes.data);\r\n                    break;\r\n                }\r\n                case 'leaves': {\r\n                    const leaveRes = await api.getLeaveSummaryReport({\r\n                        year: selectedYear,\r\n                        departmentId: selectedDepartment || undefined\r\n                    });\r\n                    setLeaveData(leaveRes.data);\r\n                    break;\r\n                }\r\n                case 'directory': {\r\n                    const dirRes = await api.getEmployeeDirectory({\r\n                        departmentId: selectedDepartment || undefined\r\n                    });\r\n                    setDirectoryData(dirRes.data);\r\n                    break;\r\n                }\r\n            }\r\n        } catch (error) {\r\n            toast.error('Failed to load report');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [activeReport, selectedMonth, selectedYear, selectedDepartment]);\r\n\r\n    useEffect(() => {\r\n        loadReport();\r\n    }, [loadReport]);\r\n\r\n    const handleExportCSV = async () => {\r\n        setIsExporting(true);\r\n        try {\r\n            let data: Blob;\r\n            let filename: string;\r\n\r\n            switch (activeReport) {\r\n                case 'attendance':\r\n                    data = await api.getAdminAttendanceReport({\r\n                        month: selectedMonth,\r\n                        year: selectedYear,\r\n                        departmentId: selectedDepartment || undefined,\r\n                        format: 'csv'\r\n                    });\r\n                    filename = `attendance_report_${selectedMonth}_${selectedYear}.csv`;\r\n                    break;\r\n                case 'leaves':\r\n                    data = await api.getLeaveSummaryReport({\r\n                        year: selectedYear,\r\n                        departmentId: selectedDepartment || undefined,\r\n                        format: 'csv'\r\n                    });\r\n                    filename = `leave_summary_${selectedYear}.csv`;\r\n                    break;\r\n                case 'directory':\r\n                    data = await api.getEmployeeDirectory({\r\n                        departmentId: selectedDepartment || undefined,\r\n                        format: 'csv'\r\n                    });\r\n                    filename = 'employee_directory.csv';\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n\r\n            api.downloadCSV(data, filename);\r\n            toast.success('Report exported successfully!');\r\n        } catch (error) {\r\n            toast.error('Failed to export report');\r\n        } finally {\r\n            setIsExporting(false);\r\n        }\r\n    };\r\n\r\n    const months = [\r\n        'January', 'February', 'March', 'April', 'May', 'June',\r\n        'July', 'August', 'September', 'October', 'November', 'December'\r\n    ];\r\n\r\n    return (\r\n        <div className=\"reports-page\">\r\n            {/* Header */}\r\n            <div className=\"page-header\">\r\n                <div className=\"header-content\">\r\n                    <h1><FileText size={28} /> Reports</h1>\r\n                    <p>Generate and export HR reports</p>\r\n                </div>\r\n                <div className=\"header-actions\">\r\n                    <button\r\n                        className=\"btn-refresh\"\r\n                        onClick={loadReport}\r\n                        disabled={isLoading}\r\n                    >\r\n                        <RefreshCw size={18} className={isLoading ? 'spinning' : ''} />\r\n                        Refresh\r\n                    </button>\r\n                    <button\r\n                        className=\"btn-export\"\r\n                        onClick={handleExportCSV}\r\n                        disabled={isExporting}\r\n                    >\r\n                        <Download size={18} />\r\n                        {isExporting ? 'Exporting...' : 'Export CSV'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Report Type Tabs */}\r\n            <div className=\"report-tabs\">\r\n                <button\r\n                    className={`tab ${activeReport === 'attendance' ? 'active' : ''}`}\r\n                    onClick={() => setActiveReport('attendance')}\r\n                >\r\n                    <Clock size={18} />\r\n                    Attendance Report\r\n                </button>\r\n                <button\r\n                    className={`tab ${activeReport === 'leaves' ? 'active' : ''}`}\r\n                    onClick={() => setActiveReport('leaves')}\r\n                >\r\n                    <Calendar size={18} />\r\n                    Leave Summary\r\n                </button>\r\n                <button\r\n                    className={`tab ${activeReport === 'directory' ? 'active' : ''}`}\r\n                    onClick={() => setActiveReport('directory')}\r\n                >\r\n                    <Users size={18} />\r\n                    Employee Directory\r\n                </button>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"report-filters\">\r\n                <div className=\"filter-group\">\r\n                    <Filter size={18} />\r\n                    <span>Filters:</span>\r\n                </div>\r\n\r\n                {(activeReport === 'attendance' || activeReport === 'leaves') && (\r\n                    <div className=\"filter-item\">\r\n                        <label>Year</label>\r\n                        <select\r\n                            value={selectedYear}\r\n                            onChange={(e) => setSelectedYear(parseInt(e.target.value))}\r\n                        >\r\n                            {[2024, 2025, 2026].map(y => (\r\n                                <option key={y} value={y}>{y}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                )}\r\n\r\n                {activeReport === 'attendance' && (\r\n                    <div className=\"filter-item\">\r\n                        <label>Month</label>\r\n                        <select\r\n                            value={selectedMonth}\r\n                            onChange={(e) => setSelectedMonth(parseInt(e.target.value))}\r\n                        >\r\n                            {months.map((m, i) => (\r\n                                <option key={i} value={i + 1}>{m}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"filter-item\">\r\n                    <label>Department</label>\r\n                    <select\r\n                        value={selectedDepartment}\r\n                        onChange={(e) => setSelectedDepartment(e.target.value)}\r\n                    >\r\n                        <option value=\"\">All Departments</option>\r\n                        {departments.map(d => (\r\n                            <option key={d.id} value={d.id}>{d.name}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Report Content */}\r\n            <div className=\"report-content\">\r\n                {isLoading ? (\r\n                    <div className=\"loading-state\">\r\n                        <div className=\"loader\"></div>\r\n                        <p>Loading report...</p>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        {activeReport === 'attendance' && attendanceData && (\r\n                            <AttendanceReportView data={attendanceData} />\r\n                        )}\r\n                        {activeReport === 'leaves' && leaveData && (\r\n                            <LeaveReportView data={leaveData} />\r\n                        )}\r\n                        {activeReport === 'directory' && directoryData && (\r\n                            <DirectoryReportView data={directoryData} />\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Attendance Report Component\r\nfunction AttendanceReportView({ data }: { data: AttendanceReportData }) {\r\n    return (\r\n        <div className=\"attendance-report\">\r\n            {/* Summary Cards */}\r\n            <div className=\"summary-cards\">\r\n                <div className=\"summary-card\">\r\n                    <div className=\"card-icon present\">\r\n                        <TrendingUp size={24} />\r\n                    </div>\r\n                    <div className=\"card-info\">\r\n                        <h3>{data.summary.presentDays}</h3>\r\n                        <p>Present Days</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"summary-card\">\r\n                    <div className=\"card-icon absent\">\r\n                        <Users size={24} />\r\n                    </div>\r\n                    <div className=\"card-info\">\r\n                        <h3>{data.summary.absentDays}</h3>\r\n                        <p>Absent Days</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"summary-card\">\r\n                    <div className=\"card-icon late\">\r\n                        <Clock size={24} />\r\n                    </div>\r\n                    <div className=\"card-info\">\r\n                        <h3>{data.summary.lateDays}</h3>\r\n                        <p>Late Days</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"summary-card\">\r\n                    <div className=\"card-icon hours\">\r\n                        <PieChart size={24} />\r\n                    </div>\r\n                    <div className=\"card-info\">\r\n                        <h3>{data.summary.averageWorkHours.toFixed(1)}h</h3>\r\n                        <p>Avg. Work Hours</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Employee Summary Table */}\r\n            <div className=\"report-table-container\">\r\n                <h3>Employee Summary</h3>\r\n                <table className=\"report-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Employee</th>\r\n                            <th>Department</th>\r\n                            <th>Present</th>\r\n                            <th>Absent</th>\r\n                            <th>Late</th>\r\n                            <th>Total Hours</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.employeeSummary.map((emp) => (\r\n                            <tr key={emp.employeeId}>\r\n                                <td>\r\n                                    <div className=\"employee-info\">\r\n                                        <span className=\"name\">{emp.employeeName}</span>\r\n                                        <span className=\"code\">{emp.employeeCode}</span>\r\n                                    </div>\r\n                                </td>\r\n                                <td>{emp.department}</td>\r\n                                <td><span className=\"badge present\">{emp.present}</span></td>\r\n                                <td><span className=\"badge absent\">{emp.absent}</span></td>\r\n                                <td><span className=\"badge late\">{emp.late}</span></td>\r\n                                <td>{emp.totalHours.toFixed(1)}h</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Leave Report Component\r\nfunction LeaveReportView({ data }: { data: LeaveReportData }) {\r\n    return (\r\n        <div className=\"leave-report\">\r\n            <div className=\"report-header\">\r\n                <h3>Leave Summary - {data.year}</h3>\r\n                <span className=\"total-badge\">Total Requests: {data.totalRequests}</span>\r\n            </div>\r\n\r\n            <div className=\"report-table-container\">\r\n                <table className=\"report-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Department</th>\r\n                            <th>Total Requests</th>\r\n                            <th>Approved</th>\r\n                            <th>Rejected</th>\r\n                            <th>Pending</th>\r\n                            <th>Total Days</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.departmentSummary.map((dept) => (\r\n                            <tr key={dept.departmentId}>\r\n                                <td>\r\n                                    <div className=\"dept-cell\">\r\n                                        <Building size={16} />\r\n                                        {dept.departmentName}\r\n                                    </div>\r\n                                </td>\r\n                                <td>{dept.totalRequests}</td>\r\n                                <td><span className=\"badge approved\">{dept.approved}</span></td>\r\n                                <td><span className=\"badge rejected\">{dept.rejected}</span></td>\r\n                                <td><span className=\"badge pending\">{dept.pending}</span></td>\r\n                                <td>{dept.totalDays} days</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Employee Directory Component\r\nfunction DirectoryReportView({ data }: { data: EmployeeDirectoryData }) {\r\n    return (\r\n        <div className=\"directory-report\">\r\n            <div className=\"report-header\">\r\n                <h3>Employee Directory</h3>\r\n                <span className=\"total-badge\">Total Employees: {data.totalEmployees}</span>\r\n            </div>\r\n\r\n            <div className=\"report-table-container\">\r\n                <table className=\"report-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Code</th>\r\n                            <th>Name</th>\r\n                            <th>Email</th>\r\n                            <th>Department</th>\r\n                            <th>Join Date</th>\r\n                            <th>Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.employees.map((emp, idx) => (\r\n                            <tr key={idx}>\r\n                                <td><span className=\"emp-code\">{emp.employeeCode}</span></td>\r\n                                <td>{emp.firstName} {emp.lastName}</td>\r\n                                <td>{emp.email}</td>\r\n                                <td>{emp.department}</td>\r\n                                <td>{new Date(emp.joinDate).toLocaleDateString()}</td>\r\n                                <td>\r\n                                    <span className={`status-badge ${emp.employmentStatus}`}>\r\n                                        {emp.employmentStatus}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\pages\\settings\\SettingsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\services\\api.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":451,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":451,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14415,14418],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14415,14418],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":458,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":458,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14673,14676],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14673,14676],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import apiClient, { withRetry, showSuccess } from '../utils/apiClient';\r\n\r\nexport interface LoginCredentials {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\nexport interface RegisterData {\r\n    company: {\r\n        name: string;\r\n        email: string;\r\n    };\r\n    admin: {\r\n        firstName: string;\r\n        lastName: string;\r\n        email: string;\r\n        password: string;\r\n    };\r\n}\r\n\r\nexport interface AuthResponse {\r\n    success: boolean;\r\n    message: string;\r\n    data: {\r\n        user: User;\r\n        accessToken: string;\r\n        refreshToken: string;\r\n    };\r\n}\r\n\r\nexport interface User {\r\n    id: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    role: 'super_admin' | 'company_admin' | 'hr_manager' | 'manager' | 'employee';\r\n    companyId: string;\r\n    isActive: boolean;\r\n}\r\n\r\nexport interface Employee {\r\n    id: string;\r\n    employeeCode: string;\r\n    userId: string;\r\n    departmentId: string;\r\n    designationId: string;\r\n    joinDate: string;\r\n    employmentStatus: string;\r\n    user: User;\r\n    department?: { name: string };\r\n    designation?: { name: string };\r\n}\r\n\r\nexport interface Department {\r\n    id: string;\r\n    name: string;\r\n    description: string;\r\n    managerId: string;\r\n    isActive: boolean;\r\n}\r\n\r\nexport interface AttendanceRecord {\r\n    id: string;\r\n    date: string;\r\n    clockIn: string;\r\n    clockOut: string;\r\n    workHours: number;\r\n    status: string;\r\n}\r\n\r\nexport interface LeaveRequest {\r\n    id: string;\r\n    leaveType: string;\r\n    startDate: string;\r\n    endDate: string;\r\n    totalDays: number;\r\n    reason: string;\r\n    status: string;\r\n}\r\n\r\nexport interface SalaryComponent {\r\n    id: string;\r\n    companyId: string;\r\n    name: string;\r\n    code: string;\r\n    type: 'earning' | 'deduction';\r\n    calculationType: 'fixed' | 'percentage';\r\n    percentageOf?: string;\r\n    isTaxable: boolean;\r\n    isActive: boolean;\r\n}\r\n\r\nexport interface SalaryStructureDetail {\r\n    id: string;\r\n    salaryStructureId: string;\r\n    salaryComponentId: string;\r\n    amount: number;\r\n    component: SalaryComponent;\r\n}\r\n\r\nexport interface SalaryStructure {\r\n    id: string;\r\n    companyId: string;\r\n    employeeId: string;\r\n    ctc: number;\r\n    effectiveFrom: string;\r\n    isActive: boolean;\r\n    details: SalaryStructureDetail[];\r\n}\r\n\r\nexport interface PayrollRun {\r\n    id: string;\r\n    companyId: string;\r\n    month: number;\r\n    year: number;\r\n    status: 'draft' | 'processing' | 'completed' | 'paid';\r\n    processedBy: string;\r\n    processedAt: string;\r\n    totalGross: number;\r\n    totalDeductions: number;\r\n    totalNet: number;\r\n    employeeCount: number;\r\n}\r\n\r\nexport interface Payslip {\r\n    id: string;\r\n    companyId: string;\r\n    employeeId: string;\r\n    payrollRunId: string;\r\n    month: number;\r\n    year: number;\r\n    workingDays: number;\r\n    daysWorked: number;\r\n    grossEarnings: number;\r\n    totalDeductions: number;\r\n    netPay: number;\r\n    status: 'draft' | 'finalized' | 'paid';\r\n    earningsBreakdown: Record<string, number>;\r\n    deductionsBreakdown: Record<string, number>;\r\n    employee?: {\r\n        id: string;\r\n        employeeCode: string;\r\n        user: {\r\n            name: string;\r\n            email: string;\r\n        };\r\n    };\r\n}\r\n\r\nexport interface AuditLog {\r\n    id: string;\r\n    entity: string;\r\n    entityId: string;\r\n    action: 'CREATE' | 'UPDATE' | 'DELETE' | 'LOGIN' | 'OTHER';\r\n    userId: string;\r\n    user?: { firstName: string; lastName: string };\r\n    details?: string;\r\n    oldValues?: Record<string, unknown>;\r\n    newValues?: Record<string, unknown>;\r\n    ipAddress?: string;\r\n    createdAt: string;\r\n}\r\n\r\nclass ApiService {\r\n    // Auth endpoints\r\n    async login(credentials: LoginCredentials): Promise<AuthResponse> {\r\n        const response = await apiClient.post<AuthResponse>('/auth/login', credentials);\r\n        return response.data;\r\n    }\r\n\r\n    async register(data: RegisterData): Promise<AuthResponse> {\r\n        const response = await apiClient.post<AuthResponse>('/auth/register', data);\r\n        return response.data;\r\n    }\r\n\r\n    async getProfile(): Promise<{ success: boolean; data: User }> {\r\n        const response = await apiClient.get<{ success: boolean; data: User }>('/auth/profile');\r\n        return response.data;\r\n    }\r\n\r\n    async logout(): Promise<void> {\r\n        await apiClient.post('/auth/logout');\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        localStorage.removeItem('auth-storage');\r\n    }\r\n\r\n    // Employee endpoints\r\n    async getEmployees(params?: { page?: number; limit?: number; search?: string }) {\r\n        const response = await apiClient.get<{ success: boolean; data: { employees: Employee[]; pagination: { total: number } } }>(\r\n            '/employees',\r\n            { params }\r\n        );\r\n        return { success: response.data.success, data: { employees: response.data.data.employees, total: response.data.data.pagination?.total || 0 } };\r\n    }\r\n\r\n    async getEmployee(id: string) {\r\n        const response = await apiClient.get<{ success: boolean; data: Employee }>(`/employees/${id}`);\r\n        return response.data;\r\n    }\r\n\r\n    async createEmployee(data: Partial<Employee>) {\r\n        const response = await apiClient.post<{ success: boolean; data: Employee }>('/employees', data);\r\n        showSuccess('Employee created successfully!');\r\n        return response.data;\r\n    }\r\n\r\n    async updateEmployee(id: string, data: Partial<Employee>) {\r\n        const response = await apiClient.put<{ success: boolean; data: Employee }>(`/employees/${id}`, data);\r\n        showSuccess('Employee updated successfully!');\r\n        return response.data;\r\n    }\r\n\r\n    async deleteEmployee(id: string) {\r\n        const response = await apiClient.delete(`/employees/${id}`);\r\n        showSuccess('Employee deleted successfully!');\r\n        return response.data;\r\n    }\r\n\r\n    async getEmployeeStats() {\r\n        const response = await apiClient.get<{ success: boolean; data: Record<string, unknown> }>('/employees/stats');\r\n        return response.data;\r\n    }\r\n\r\n    // Attendance endpoints\r\n    async clockIn() {\r\n        const response = await apiClient.post<{ success: boolean; data: AttendanceRecord }>('/attendance/clock-in');\r\n        showSuccess('Clocked in successfully!');\r\n        return response.data;\r\n    }\r\n\r\n    async clockOut() {\r\n        const response = await apiClient.post<{ success: boolean; data: AttendanceRecord }>('/attendance/clock-out');\r\n        showSuccess('Clocked out successfully!');\r\n        return response.data;\r\n    }\r\n\r\n    async getTodayAttendance() {\r\n        const response = await apiClient.get<{ success: boolean; data: AttendanceRecord | null }>('/attendance/today');\r\n        return response.data;\r\n    }\r\n\r\n    async getAttendanceReport(params?: { startDate?: string; endDate?: string }) {\r\n        // Use withRetry for reports as they might timeout\r\n        return withRetry(async () => {\r\n            const response = await apiClient.get<{ success: boolean; data: AttendanceRecord[] }>(\r\n                '/attendance/report',\r\n                { params }\r\n            );\r\n            return response.data;\r\n        }, 2);\r\n    }\r\n\r\n    // Leave endpoints\r\n    async applyLeave(data: Partial<LeaveRequest>) {\r\n        const response = await apiClient.post<{ success: boolean; data: LeaveRequest }>('/leaves', data);\r\n        showSuccess('Leave request submitted!');\r\n        return response.data;\r\n    }\r\n\r\n    async getLeaves(params?: { status?: string }) {\r\n        const response = await apiClient.get<{ success: boolean; data: { leaves: LeaveRequest[] } }>(\r\n            '/leaves',\r\n            { params }\r\n        );\r\n        return response.data;\r\n    }\r\n\r\n    async getLeaveBalance() {\r\n        const response = await apiClient.get<{ success: boolean; data: Record<string, { used: number; total: number }> }>('/leaves/balance');\r\n        return response.data;\r\n    }\r\n\r\n    async approveLeave(id: string, comments?: string) {\r\n        const response = await apiClient.put(`/leaves/${id}/approve`, { comments });\r\n        showSuccess('Leave approved!');\r\n        return response.data;\r\n    }\r\n\r\n    async rejectLeave(id: string, comments?: string) {\r\n        const response = await apiClient.put(`/leaves/${id}/reject`, { comments });\r\n        showSuccess('Leave rejected!');\r\n        return response.data;\r\n    }\r\n\r\n    // Department endpoints\r\n    async getDepartments() {\r\n        const response = await apiClient.get<{ success: boolean; data: Department[] }>('/departments');\r\n        return response.data;\r\n    }\r\n\r\n    async createDepartment(data: Partial<Department>) {\r\n        const response = await apiClient.post<{ success: boolean; data: Department }>('/departments', data);\r\n        showSuccess('Department created!');\r\n        return response.data;\r\n    }\r\n\r\n    // Company endpoints\r\n    async getCompanyStats() {\r\n        return withRetry(async () => {\r\n            const response = await apiClient.get<{ success: boolean; data: { employees: number; departments: number; activeProjects?: number } }>('/company/stats');\r\n            return response.data;\r\n        }, 2);\r\n    }\r\n\r\n    // ==================== REPORTS ENDPOINTS ====================\r\n\r\n    async getReportDashboard() {\r\n        const response = await apiClient.get<{ success: boolean; data: Record<string, unknown> }>('/reports/dashboard');\r\n        return response.data;\r\n    }\r\n\r\n    async getAdminAttendanceReport(params?: {\r\n        startDate?: string;\r\n        endDate?: string;\r\n        month?: number;\r\n        year?: number;\r\n        departmentId?: string;\r\n        format?: 'json' | 'csv';\r\n    }) {\r\n        if (params?.format === 'csv') {\r\n            const response = await apiClient.get('/reports/attendance', {\r\n                params,\r\n                responseType: 'blob'\r\n            });\r\n            return response.data;\r\n        }\r\n        const response = await apiClient.get('/reports/attendance', { params });\r\n        return response.data;\r\n    }\r\n\r\n    async getAuditLogs(params?: {\r\n        page?: number;\r\n        limit?: number;\r\n        entity?: string;\r\n        action?: string;\r\n        userId?: string;\r\n        startDate?: string;\r\n        endDate?: string;\r\n    }) {\r\n        const response = await apiClient.get<{ success: boolean; data: { logs: AuditLog[]; pagination: { total: number; totalPages: number } } }>('/audit', { params });\r\n        return response.data;\r\n    }\r\n\r\n    async getLeaveSummaryReport(params?: {\r\n        year?: number;\r\n        departmentId?: string;\r\n        format?: 'json' | 'csv';\r\n    }) {\r\n        if (params?.format === 'csv') {\r\n            const response = await apiClient.get('/reports/leaves', {\r\n                params,\r\n                responseType: 'blob'\r\n            });\r\n            return response.data;\r\n        }\r\n        const response = await apiClient.get('/reports/leaves', { params });\r\n        return response.data;\r\n    }\r\n\r\n    async getEmployeeDirectory(params?: {\r\n        departmentId?: string;\r\n        status?: string;\r\n        format?: 'json' | 'csv';\r\n    }) {\r\n        if (params?.format === 'csv') {\r\n            const response = await apiClient.get('/reports/employees', {\r\n                params,\r\n                responseType: 'blob'\r\n            });\r\n            return response.data;\r\n        }\r\n        const response = await apiClient.get('/reports/employees', { params });\r\n        return response.data;\r\n    }\r\n\r\n    // ==================== EXPORT ENDPOINTS ====================\r\n\r\n    async exportEmployees(params?: Record<string, string | number>) {\r\n        const response = await apiClient.get('/export/employees', {\r\n            params,\r\n            responseType: 'blob'\r\n        });\r\n        this.downloadCSV(response.data, 'employees.xlsx');\r\n    }\r\n\r\n    async exportAttendance(params?: Record<string, string | number>) {\r\n        const response = await apiClient.get('/export/attendance', {\r\n            params,\r\n            responseType: 'blob'\r\n        });\r\n        this.downloadCSV(response.data, 'attendance_report.pdf');\r\n    }\r\n\r\n    async exportLeaves(params?: Record<string, string | number>) {\r\n        const response = await apiClient.get('/export/leaves', {\r\n            params,\r\n            responseType: 'blob'\r\n        });\r\n        this.downloadCSV(response.data, 'leaves.xlsx');\r\n    }\r\n\r\n    // ==================== PAYROLL ENDPOINTS ====================\r\n\r\n    async getSalaryComponents() {\r\n        const response = await apiClient.get<{ success: boolean; data: SalaryComponent[] }>('/payroll/salary-components');\r\n        return response.data;\r\n    }\r\n\r\n    async createSalaryComponent(data: Partial<SalaryComponent>) {\r\n        const response = await apiClient.post<{ success: boolean; data: SalaryComponent }>('/payroll/salary-components', data);\r\n        showSuccess('Salary component created!');\r\n        return response.data;\r\n    }\r\n\r\n    async getSalaryStructure(employeeId: string) {\r\n        const response = await apiClient.get<{ success: boolean; data: SalaryStructure }>(`/payroll/salary-structures/${employeeId}`);\r\n        return response.data;\r\n    }\r\n\r\n    async createSalaryStructure(data: Partial<SalaryStructure>) {\r\n        const response = await apiClient.post<{ success: boolean; data: SalaryStructure }>('/payroll/salary-structures', data);\r\n        showSuccess('Salary structure created!');\r\n        return response.data;\r\n    }\r\n\r\n    async processPayroll(data: { month: number; year: number }) {\r\n        const response = await apiClient.post<{ success: boolean; message: string }>('/payroll/process', data);\r\n        showSuccess(response.data.message);\r\n        return response.data;\r\n    }\r\n\r\n    async getPayrollRuns() {\r\n        const response = await apiClient.get<{ success: boolean; data: PayrollRun[] }>('/payroll/runs');\r\n        return response.data;\r\n    }\r\n\r\n    async getPayslips(params?: { payrollRunId?: string }) {\r\n        const response = await apiClient.get<{ success: boolean; data: Payslip[] }>('/payroll/payslips', { params });\r\n        return response.data;\r\n    }\r\n\r\n    // ==================== IMPORT ENDPOINTS ====================\r\n\r\n    async previewImport(file: File) {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        const response = await apiClient.post<{\r\n            success: boolean;\r\n            data: { rows: any[]; totalRows: number; validRows: number; invalidRows: number }\r\n        }>('/import/preview', formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        return response.data;\r\n    }\r\n\r\n    async processImport(rows: any[]) {\r\n        const response = await apiClient.post<{ success: boolean; message: string; data: unknown }>('/import/process', { rows });\r\n        return response.data;\r\n    }\r\n\r\n    // Helper to download CSV/Excel/PDF\r\n    downloadCSV(data: Blob, filename: string) {\r\n        const url = window.URL.createObjectURL(data);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = filename;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n    }\r\n\r\n    // ==================== UPLOAD ENDPOINTS ====================\r\n\r\n    async uploadFile(file: File) {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        try {\r\n            const response = await apiClient.post<{ success: boolean; data: { url: string; fileId: string } }>('/uploads', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('File upload failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n}\r\n\r\nexport const api = new ApiService();\r\nexport default api;\r\n\r\n// Re-export utilities\r\nexport { showSuccess, showError, withRetry } from '../utils/apiClient';\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\setupTests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\store\\authStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\prati\\Downloads\\hr saas files\\hr-management-system\\frontend\\src\\utils\\apiClient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
